(self.webpackJsonp=self.webpackJsonp||[]).push([[3876],{"3228":function(e,t,n){"use strict";n.r(t);var r=n(4936),a=n.n(r),o=n(412),u=n.n(o)()(a());u.push([e.id,"\n.reducer-item {\n  min-height: 2rem;\n}\n",""]),t.default=u},"6943":function(e,t,n){var r=n(5013),a=n(3228);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);var o={"insert":"head","singleton":!1};r(a,o);e.exports=a.locals||{}},"3876":function(e,t,n){"use strict";n.r(t),n.d(t,{"default":function(){return p}});var r=n(2053);var a=n(5043),o=n(5552),u=n(4012);var d=n(2725),l={"props":{"id":Number,"text":String,"done":Boolean},"emits":["taskChange","taskDelete"],"setup":function setup(e,t){var n=t.emit,r=(0,u.eJ)(!1),o=(0,a.Z)(r,2),l=o[0],c=o[1],i=(0,u.eJ)(e.done),s=(0,a.Z)(i,2),f=s[0],h=s[1],p=function handleChange(t,r){var a=e.id,o=e.text,u=e.done;n("taskChange",(0,d.Z)({"id":a,"text":o,"done":u},t,r))};return{"edit":l,"status":f,"setEdit":c,"handleChange":p,"handleDelete":function handleDelete(){n("taskDelete",e.id)},"handleCheckboxChange":function handleCheckboxChange(e){p("done",e),h(e)}}}},c=(n(6943),n(9852));function formReducer(e,t){switch(t.type){case"incremented_age":return{"name":e.name,"age":e.age+1};case"changed_name":return{"name":t.nextName,"age":e.age}}throw Error("Unknown action: "+t.type)}var i={"name":"Taylor","age":42};function tasksReducer(e,t){switch(t.type){case"added":return[].concat((0,o.Z)(e),[{"id":t.id,"text":t.text,"done":!1}]);case"changed":return e.map((function(e){return e.id===t.task.id?t.task:e}));case"deleted":return e.filter((function(e){return e.id!==t.id}));default:throw Error("Unknown action: "+t.type)}}var s=[{"id":0,"text":"Visit Kafka Museum","done":!0},{"id":1,"text":"Watch a puppet show","done":!1},{"id":2,"text":"Lennon Wall pic","done":!1}],f=3,h={"components":{"ListItem":(0,c.Z)(l,[["render",function Itemvue_type_template_id_13e626df_ts_true_render(e,t,n,a,o,u){var d=(0,r.resolveComponent)("nut-checkbox"),l=(0,r.resolveComponent)("nut-col"),c=(0,r.resolveComponent)("taro-text"),i=(0,r.resolveComponent)("control-input"),s=(0,r.resolveComponent)("nut-button"),f=(0,r.resolveComponent)("nut-row");return(0,r.openBlock)(),(0,r.createBlock)(f,{"type":"flex","gutter":8,"justify":"between","align":"center","class":"reducer-item"},{"default":(0,r.withCtx)((function(){return[(0,r.createVNode)(l,{"span":2},{"default":(0,r.withCtx)((function(){return[(0,r.createVNode)(d,{"modelValue":a.status,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.status=e}),"onChange":a.handleCheckboxChange},null,8,["modelValue","onChange"])]})),"_":1}),(0,r.createVNode)(l,{"span":13},{"default":(0,r.withCtx)((function(){return[a.edit?((0,r.openBlock)(),(0,r.createBlock)(i,{"key":1,"value":n.text,"onInput":t[1]||(t[1]=function(e){return a.handleChange("text",e)}),"onBlur":t[2]||(t[2]=function(e){return a.setEdit(!1)})},null,8,["value"])):((0,r.openBlock)(),(0,r.createBlock)(c,{"key":0},{"default":(0,r.withCtx)((function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(n.text),1)]})),"_":1}))]})),"_":1}),(0,r.createVNode)(l,{"span":4},{"default":(0,r.withCtx)((function(){return[(0,r.createVNode)(s,{"block":"","shape":"square","onClick":t[3]||(t[3]=function(e){return a.setEdit(!0)}),"size":"mini"},{"default":(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Edit")]})),"_":1})]})),"_":1}),(0,r.createVNode)(l,{"span":5},{"default":(0,r.withCtx)((function(){return[(0,r.createVNode)(s,{"block":"","shape":"square","onClick":t[4]||(t[4]=function(e){return a.handleDelete()}),"size":"mini","type":"danger"},{"default":(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Delete")]})),"_":1})]})),"_":1})]})),"_":1})}]])},"setup":function setup(){var e=(0,u._Y)(formReducer,i),t=(0,a.Z)(e,2),n=t[0],r=t[1],o=(0,u._Y)(tasksReducer,s),d=(0,a.Z)(o,2),l=d[0],c=d[1];var h=(0,u.eJ)(null),p=(0,a.Z)(h,2),m=p[0],k=p[1];return{"formState":n,"handleIncrementAge":function handleIncrementAge(){r({"type":"incremented_age"})},"handleNameChange":function handleNameChange(e){r({"type":"changed_name","nextName":e})},"tasks":l,"handleAddTask":function handleAddTask(e){c({"type":"added","id":f++,"text":e}),k(null)},"handleChangeTask":function handleChangeTask(e){c({"type":"changed","task":e})},"handleDeleteTask":function handleDeleteTask(e){c({"type":"deleted","id":e})},"currentAddTask":m,"setCurrentAddTask":k}}};var p=(0,c.Z)(h,[["render",function render(e,t,n,a,o,u){var d=(0,r.resolveComponent)("control-input"),l=(0,r.resolveComponent)("taro-view"),c=(0,r.resolveComponent)("nut-button"),i=(0,r.resolveComponent)("demo-content"),s=(0,r.resolveComponent)("nut-col"),f=(0,r.resolveComponent)("nut-row"),h=(0,r.resolveComponent)("ListItem"),p=(0,r.resolveComponent)("taro-block");return(0,r.openBlock)(),(0,r.createBlock)(p,null,{"default":(0,r.withCtx)((function(){return[(0,r.createVNode)(i,{"title":"1. Form (Object)"},{"default":(0,r.withCtx)((function(){return[(0,r.createVNode)(d,{"onInput":t[0]||(t[0]=function(e){return a.handleNameChange(e)}),"value":a.formState.name},null,8,["value"]),(0,r.createVNode)(l,{"class":"control-input"},{"default":(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Hello, "+(0,r.toDisplayString)(a.formState.name)+". You are "+(0,r.toDisplayString)(a.formState.age)+".",1)]})),"_":1}),(0,r.createVNode)(c,{"shape":"square","type":"primary","block":"","onClick":t[1]||(t[1]=function(e){return a.handleIncrementAge()})},{"default":(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Increment Age")]})),"_":1})]})),"_":1}),(0,r.createVNode)(i,{"title":"2. Todo list (Array)"},{"default":(0,r.withCtx)((function(){return[(0,r.createVNode)(f,{"type":"flex","gutter":4},{"default":(0,r.withCtx)((function(){return[(0,r.createVNode)(s,{"span":18},{"default":(0,r.withCtx)((function(){return[(0,r.createVNode)(d,{"placeholder":"Add task","value":a.currentAddTask,"onInput":t[2]||(t[2]=function(e){return a.setCurrentAddTask(e)})},null,8,["value"])]})),"_":1}),(0,r.createVNode)(s,{"span":6},{"default":(0,r.withCtx)((function(){return[(0,r.createVNode)(c,{"shape":"square","type":"info","block":"","onClick":t[3]||(t[3]=function(e){return a.handleAddTask(a.currentAddTask)})},{"default":(0,r.withCtx)((function(){return[(0,r.createTextVNode)("Add")]})),"_":1})]})),"_":1})]})),"_":1}),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(a.tasks,(function(e){return(0,r.openBlock)(),(0,r.createBlock)(h,{"key":e.id,"done":e.done,"text":e.text,"id":e.id,"onTaskChange":t[4]||(t[4]=function(e){return a.handleChangeTask(e)}),"onTaskDelete":t[5]||(t[5]=function(e){return a.handleDeleteTask(e)})},null,8,["done","text","id"])})),128))]})),"_":1}),(0,r.createVNode)(i,{"title":"3. Writing concise update logic with Immer. write self"})]})),"_":1})}]])}}]);