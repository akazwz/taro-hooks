"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[1151],{"4992":function(e,n,t){var r=t(2535),o=t(4012),a=t(6881),i=t(9524);n.Z=function useModal(e){var n=(0,o.sO)(e);(0,o.d4)((function(){n.current=e}),[e]);var t=(0,a.Z)(r.showModal);return function show(e){if(!e&&!n.current)return Promise.reject((0,i.Hv)("showModal","please provide a option"));var r=(0,i.JA)(n.current,e);return t(r)}}},"6881":function(e,n,t){var r=t(969),o=t(9524);function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_extends.apply(this,arguments)}n.Z=function usePromise(e){return function(n){var t;if(!e)return Promise.reject((0,o.Hv)(e,"please input a valid method name"));var a=null!=(t=null==e?void 0:e.name)?t:"usePromise::implementMethod";return new Promise((function(t,i){try{if(!(0,r.mf)(e))throw new TypeError("["+a+"] not vaild for Taro");var u;null==(u=e(_extends({},n||{},{"success":t,"fail":i})))||null==u.catch||u.catch(i)}catch(e){i((0,o.Hv)(a,e.message))}}))}}},"9524":function(e,n,t){t.d(n,{"BB":function(){return a},"kM":function(){return i},"Hv":function(){return generateGeneralFail},"JA":function(){return combineOptions},"vL":function(){return stringfiyUrl}});var r=t(969),o=t(9059);var a=!0,i=function typeOf(e,n){return[n].flat().some((function(n){return Object.prototype.toString.call(e)==="[object "+n+"]"}))};function generateGeneralFail(e,n){var t="[API "+e+"] "+(n=n||"调用失败");return a||(0,r.H)(t),{"errMsg":t}}function combineOptions(e,n){return void 0===e&&(e={}),void 0===n&&(n={}),Object.assign({},e,n)}function stringfiyUrl(e,n){var t=e;if(n&&(0,r.hM)(n,"Object")){var a=t.includes("?");t+=(a?"&":"?")+(0,o.stringify)(n)}return t}},"1151":function(e,n,t){t.r(n),t.d(n,{"default":function(){return f}});var r=t(2535),o=t(9524),a=["__taro","at"];function prefixClsEvent(e,n){return null!=e&&e.length?e+"."+n:n}function isSafeEvent(e){return a.every((function(n){return!e.startsWith(n)}))}function generateCheck(e,n){return e&&null!=n&&n.length?!!isSafeEvent(e)||((0,o.Hv)("EVENT CHANEL",e+" is not valid"),!1):((0,o.Hv)("EVENT CHANEL","event chanel params error"),!1)}var i=function useEvent(e){return{"set":function set(n){for(var t=arguments.length,o=new Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];generateCheck(n,o)&&o.forEach((function(t){r.eventCenter.on(prefixClsEvent(e,n),t)}))},"setOnce":function setOnce(n){for(var t=arguments.length,o=new Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];generateCheck(n,o)&&o.forEach((function(t){r.eventCenter.once(prefixClsEvent(e,n),t)}))},"off":function off(n){if(isSafeEvent(n)){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];null!=a&&a.length?a.forEach((function(t){r.eventCenter.off(prefixClsEvent(e,n),t)})):r.eventCenter.off(prefixClsEvent(e,n))}else(0,o.Hv)("EVENT CHANEL",n+" is not valid")},"clear":function clear(){r.eventCenter.off()},"trigger":function trigger(n){if(isSafeEvent(n)){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];r.eventCenter.trigger.apply(r.eventCenter,[prefixClsEvent(e,n)].concat(a))}else(0,o.Hv)("EVENT CHANEL",n+" is not valid")}}},u=t(4992),c=t(2053);var f=(0,c.defineComponent)({"__name":"index","setup":function setup(e){var n=(0,u.Z)({"title":"useEvent","showCancel":!1,"mask":!0}),t=i("useEvent"),r=t.set,o=t.setOnce,a=t.off,f=t.clear,s=t.trigger,l="event",v="event-once",p=function listener(e){n({"content":"事件触发成功: ".concat(String(e))})};return function(e,n){var t=(0,c.resolveComponent)("nut-button"),i=(0,c.resolveComponent)("demo-content");return(0,c.openBlock)(),(0,c.createBlock)(i,null,{"default":(0,c.withCtx)((function(){return[(0,c.createVNode)(t,{"shape":"square","type":"primary","class":"gap","block":"","onClick":n[0]||(n[0]=function(e){return(0,c.unref)(r)(l,p)})},{"default":(0,c.withCtx)((function(){return[(0,c.createTextVNode)("设置监听")]})),"_":1}),(0,c.createVNode)(t,{"shape":"square","type":"primary","block":"","class":"gap","onClick":n[1]||(n[1]=function(e){return(0,c.unref)(s)(l)})},{"default":(0,c.withCtx)((function(){return[(0,c.createTextVNode)("触发监听")]})),"_":1}),(0,c.createVNode)(t,{"shape":"square","type":"primary","block":"","class":"gap","onClick":n[2]||(n[2]=function(e){return(0,c.unref)(o)(v,p)})},{"default":(0,c.withCtx)((function(){return[(0,c.createTextVNode)("设置监听(仅触发一次)")]})),"_":1}),(0,c.createVNode)(t,{"shape":"square","type":"primary","block":"","class":"gap","onClick":n[3]||(n[3]=function(e){return(0,c.unref)(s)(v,"once")})},{"default":(0,c.withCtx)((function(){return[(0,c.createTextVNode)("触发监听(仅触发一次)")]})),"_":1}),(0,c.createVNode)(t,{"shape":"square","type":"primary","block":"","class":"gap","onClick":n[4]||(n[4]=function(e){return(0,c.unref)(a)(l)})},{"default":(0,c.withCtx)((function(){return[(0,c.createTextVNode)("移除监听")]})),"_":1}),(0,c.createVNode)(t,{"shape":"square","type":"primary","block":"","class":"gap","onClick":n[5]||(n[5]=function(e){return(0,c.unref)(f)()})},{"default":(0,c.withCtx)((function(){return[(0,c.createTextVNode)("清除所有监听")]})),"_":1})]})),"_":1})}}})}}]);